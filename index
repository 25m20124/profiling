추리하세요.  
        힌트는 단 1회만 사용할 수 있습니다.
    </div>
</div>

<div id="inputBox">
    <input id="userInput" placeholder="질문을 입력하세요">
    <button onclick="send()">전송</button>
    <button onclick="useHint()">힌트</button>
</div>

<script>
let hintUsed = false;

function addMessage(text, cls) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = "message " + cls;
    div.innerText = text;
    chat.appendChild(div);
    window.scrollTo(0, document.body.scrollHeight);
}

function send() {
    const input = document.getElementById("userInput");
    const q = input.value.trim();
    if (!q) return;

    addMessage(q, "user");
    input.value = "";

    let answer = "그 질문에 해당하는 단서는 확인되지 않았습니다.";

    const lower = q.toLowerCase();

    if (lower.includes("시간") || lower.includes("언제")) {
        answer = "사건은 밤 12시 25분에 발생했습니다.";
    }
    else if (lower.includes("장소") || lower.includes("숭례문")) {
        answer = "사건 장소는 숭례문이며, 일반인의 접근이 쉽지 않은 구조입니다.";
    }
    else if (lower.includes("접근") || lower.includes("사다리")) {
        answer = "범인은 사다리를 이용해 몰래 접근한 것으로 보입니다.";
    }
    else if (lower.includes("동기") || lower.includes("분노")) {
        answer = "일부 용의자는 문화재 관리 시스템에 대해 강한 불만을 가지고 있었습니다.";
    }
    else if (lower.includes("문자") || lower.includes("메시지")) {
        answer = "사건 전 감정적으로 불안한 내용의 문자가 존재합니다.";
    }
    else if (lower.includes("cctv") || lower.includes("택시") || lower.includes("동선")) {
        answer = "사건 직전 숭례문 인근에서 수상한 이동 동선이 포착되었습니다.";
    }
    else if (lower.includes("전문") || lower.includes("소방") || lower.includes("불")) {
        answer = "범인은 화재와 방재 시스템에 대한 지식을 갖고 있었을 가능성이 있습니다.";
    }

    addMessage(answer, "bot");
}

function useHint() {
    if (hintUsed) {
        addMessage("힌트는 이미 사용되었습니다.", "bot");
        return;
    }
    hintUsed = true;
    addMessage(
        "힌트: 아직 확인하지 않은 단서의 범주가 있을 수 있습니다. 질문의 방향을 바꿔보세요.",
        "bot"
    );
}
</script>

</body>
</html>
